---
title: 全局规则
vid: d0d7846830ac71f0bff76732b68f0102
---

**文档地址**： [https://course.oneday.build/cn/docs/workflow](https://course.oneday.build/cn/docs/workflow)

在与AI编程工具（如Cursor）交互时，开发者常需重复提供指令（如参考规划文件、编写测试代码），这增加了操作繁琐性。通过设置全局规则，可将重复的开发习惯、项目要求固化为系统提示（System Prompt），让AI自动遵循，减少手动输入，提高输出稳定性和一致性。全局规则类似于为AI编程工具定制行为准则，决定其工作调性和质量。

## 核心内容

### 1. 全局规则的本质与作用
- **本质**：为AI编程工具设置系统提示（System Prompt），类似于隐藏的项目经理，定义AI处理任务时的最高指令。
- **作用**：
  - 减少重复提示，简化交互流程。
  - 确保AI输出遵循项目规范（如代码风格、测试要求）。
  - 提升代码和文档的一致性与质量。
- **重要性**：全局规则的质量直接影响AI工具的表现（如Cursor的优秀表现部分归功于其精心设计的System Prompt）。

### 2. 全局规则的推荐内容
全局规则应覆盖AI编程的关键行为，建议用英文编写（因主流大模型对英文处理更优），并根据项目需求调整。核心部分包括：
- **规划与任务文档（Planning & Task）**：
  - 要求AI参考`PLANNING.md`和`TASK.md`获取项目上下文。
  - 自动更新`TASK.md`（如标记任务完成、添加新任务）。
- **黄金法则相关**：
  - 限制代码文件长度500行以内，以降低AI处理难度。
  - 为每个新功能编写单元测试或集成测试。
  - 遵循命名规范、格式工具（如驼峰命名、避免深层嵌套）。
- **代码风格指南**：
  - 指定代码风格（如优先使用特定设计模式、保持整洁规范）。
- **文档维护**：
  - 确保`PLANNING.md`和`TASK.md`随项目进展更新。
  - AI可自动执行更新，但开发者需审视调整内容，确保任务分配合理。
- **其他杂项**：
  - 处理错误日志、引用外部依赖、性能优化等规则。
  - 规则需通用且简洁，避免上下文窗口过载影响AI性能。

### 3. 注意事项
- **动态调整**：任务列表初期可能不完善，开发中需不断优化（即使资深产品经理也需迭代）。开发者需扮演产品负责人角色，清晰掌握AI更新的内容和项目进度。
- **全局 vs 局部规则**：
  - 全局规则应简洁通用，适用于每次对话。
  - 局部规则可写在单独文件中，按需读取。
- **借鉴与定制**：可参考他人规则，但需结合自身开发习惯定制，不以规则复杂程度评判质量。

### 4. 设置全局规则
- **方法**：将规则写入AI编程工具的配置文件（具体操作因工具而异，文档中提供了详细指南）。
- **效果**：一次性设置后，AI自动遵循规则，简化提示输入，确保代码规范和文档质量。

## 总结
全局规则是AI辅助开发的高效工具，通过为AI编程工具设置系统提示，固化项目要求和开发习惯，减少重复操作，确保输出一致且高质量。推荐规则涵盖规划任务、代码规范、测试要求和文档维护等方面，需用英文编写并保持简洁。开发者需动态调整规则并审视AI更新内容，扮演产品负责人角色。通过全局规则，开发者可从繁琐的提示输入中解放，真正发挥AI编程工具的潜力，生成高质量代码和文档。
